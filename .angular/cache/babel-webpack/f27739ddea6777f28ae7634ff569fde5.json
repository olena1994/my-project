{"ast":null,"code":"import _asyncToGenerator from \"/Users/olena.kopyl/Documents/projects/my-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { map, switchMap } from 'rxjs/operators';\nlet PhoneDetailsPageComponent = class PhoneDetailsPageComponent {\n  constructor(activatedRoute, cartService, http) {\n    this.activatedRoute = activatedRoute;\n    this.cartService = cartService;\n    this.http = http;\n    this.phones = [];\n  }\n\n  ngOnInit() {\n    this.activatedRoute.params.pipe(map(params => params['phoneId']), switchMap(phoneId => this.cartService.getById(phoneId))).subscribe(details => {\n      this.phone = details;\n    });\n    this.cartService.getAll().subscribe(phones => {\n      this.phones = phones;\n      this.priceFromPhones = phones.find(item => item.id === this.phone.id);\n      this.phone.price = this.priceFromPhones.price;\n      console.log(this.phone.price);\n    });\n  }\n\n  fetchData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield _this.http.get(`${environment.apiURL}/products.json`).toPromise();\n      console.log(\"Data: \" + JSON.stringify(data));\n    })();\n  }\n\n  getImageURL(url) {\n    return `${environment.imgURL}${url}`;\n  }\n\n  addToCart(phone) {\n    this.cartService.addToCart(phone);\n    window.alert('Ваш товар додано у корзину!');\n  }\n\n};\nPhoneDetailsPageComponent = __decorate([Component({\n  selector: 'app-phone-details-page',\n  templateUrl: './phone-details-page.component.html',\n  styleUrls: ['./phone-details-page.component.scss']\n})], PhoneDetailsPageComponent);\nexport { PhoneDetailsPageComponent };","map":{"version":3,"sources":["/Users/olena.kopyl/Documents/projects/my-project/src/app/components/phone-details-page/phone-details-page.component.ts"],"names":["__decorate","Component","environment","map","switchMap","PhoneDetailsPageComponent","constructor","activatedRoute","cartService","http","phones","ngOnInit","params","pipe","phoneId","getById","subscribe","details","phone","getAll","priceFromPhones","find","item","id","price","console","log","fetchData","data","get","apiURL","toPromise","JSON","stringify","getImageURL","url","imgURL","addToCart","window","alert","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,gBAA/B;AACA,IAAIC,yBAAyB,GAAG,MAAMA,yBAAN,CAAgC;AAC5DC,EAAAA,WAAW,CAACC,cAAD,EAAiBC,WAAjB,EAA8BC,IAA9B,EAAoC;AAC3C,SAAKF,cAAL,GAAsBA,cAAtB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,MAAL,GAAc,EAAd;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKJ,cAAL,CAAoBK,MAApB,CACKC,IADL,CACUV,GAAG,CAACS,MAAM,IAAIA,MAAM,CAAC,SAAD,CAAjB,CADb,EAC4CR,SAAS,CAACU,OAAO,IAAI,KAAKN,WAAL,CAAiBO,OAAjB,CAAyBD,OAAzB,CAAZ,CADrD,EAEKE,SAFL,CAEeC,OAAO,IAAI;AACtB,WAAKC,KAAL,GAAaD,OAAb;AACH,KAJD;AAKA,SAAKT,WAAL,CAAiBW,MAAjB,GACKH,SADL,CACeN,MAAM,IAAI;AACrB,WAAKA,MAAL,GAAcA,MAAd;AACA,WAAKU,eAAL,GAAuBV,MAAM,CAACW,IAAP,CAAYC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAY,KAAKL,KAAL,CAAWK,EAA3C,CAAvB;AACA,WAAKL,KAAL,CAAWM,KAAX,GAAmB,KAAKJ,eAAL,CAAqBI,KAAxC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWM,KAAvB;AACH,KAND;AAOH;;AACKG,EAAAA,SAAS,GAAG;AAAA;;AAAA;AACd,YAAMC,IAAI,SAAS,KAAI,CAACnB,IAAL,CAAUoB,GAAV,CAAe,GAAE3B,WAAW,CAAC4B,MAAO,gBAApC,EAAqDC,SAArD,EAAnB;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWM,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAvB;AAFc;AAGjB;;AACDM,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,WAAQ,GAAEjC,WAAW,CAACkC,MAAO,GAAED,GAAI,EAAnC;AACH;;AACDE,EAAAA,SAAS,CAACnB,KAAD,EAAQ;AACb,SAAKV,WAAL,CAAiB6B,SAAjB,CAA2BnB,KAA3B;AACAoB,IAAAA,MAAM,CAACC,KAAP,CAAa,6BAAb;AACH;;AA/B2D,CAAhE;AAiCAlC,yBAAyB,GAAGL,UAAU,CAAC,CACnCC,SAAS,CAAC;AACNuC,EAAAA,QAAQ,EAAE,wBADJ;AAENC,EAAAA,WAAW,EAAE,qCAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,qCAAD;AAHL,CAAD,CAD0B,CAAD,EAMnCrC,yBANmC,CAAtC;AAOA,SAASA,yBAAT","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { map, switchMap } from 'rxjs/operators';\nlet PhoneDetailsPageComponent = class PhoneDetailsPageComponent {\n    constructor(activatedRoute, cartService, http) {\n        this.activatedRoute = activatedRoute;\n        this.cartService = cartService;\n        this.http = http;\n        this.phones = [];\n    }\n    ngOnInit() {\n        this.activatedRoute.params\n            .pipe(map(params => params['phoneId']), switchMap(phoneId => this.cartService.getById(phoneId)))\n            .subscribe(details => {\n            this.phone = details;\n        });\n        this.cartService.getAll()\n            .subscribe(phones => {\n            this.phones = phones;\n            this.priceFromPhones = phones.find(item => item.id === this.phone.id);\n            this.phone.price = this.priceFromPhones.price;\n            console.log(this.phone.price);\n        });\n    }\n    async fetchData() {\n        const data = await this.http.get(`${environment.apiURL}/products.json`).toPromise();\n        console.log(\"Data: \" + JSON.stringify(data));\n    }\n    getImageURL(url) {\n        return `${environment.imgURL}${url}`;\n    }\n    addToCart(phone) {\n        this.cartService.addToCart(phone);\n        window.alert('Ваш товар додано у корзину!');\n    }\n};\nPhoneDetailsPageComponent = __decorate([\n    Component({\n        selector: 'app-phone-details-page',\n        templateUrl: './phone-details-page.component.html',\n        styleUrls: ['./phone-details-page.component.scss']\n    })\n], PhoneDetailsPageComponent);\nexport { PhoneDetailsPageComponent };\n"]},"metadata":{},"sourceType":"module"}