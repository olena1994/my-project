{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport { map, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/cart.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction PhoneDetailsPageComponent_ng_container_0_li_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const image_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r4.getImageURL(image_r5), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r4.phone.name);\n  }\n}\n\nfunction PhoneDetailsPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0, 2, 1);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8, \"Additional features:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13, \"Android:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵtext(19, \"Battery:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵelementStart(24, \"strong\");\n    i0.ɵɵtext(25, \"Camera:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵelementStart(30, \"strong\");\n    i0.ɵɵtext(31, \"Connectivity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"br\");\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"p\");\n    i0.ɵɵelementStart(36, \"strong\");\n    i0.ɵɵtext(37, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"br\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"p\");\n    i0.ɵɵelementStart(41, \"strong\");\n    i0.ɵɵtext(42, \"Display:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(43, \"br\");\n    i0.ɵɵtext(44);\n    i0.ɵɵpipe(45, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"p\");\n    i0.ɵɵelementStart(47, \"strong\");\n    i0.ɵɵtext(48, \"Hardware:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(49, \"br\");\n    i0.ɵɵtext(50);\n    i0.ɵɵpipe(51, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"p\");\n    i0.ɵɵelementStart(53, \"strong\");\n    i0.ɵɵtext(54, \"SizeAndWeight:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(55, \"br\");\n    i0.ɵɵtext(56);\n    i0.ɵɵpipe(57, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"p\");\n    i0.ɵɵelementStart(59, \"strong\");\n    i0.ɵɵtext(60, \"Storage:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(61, \"br\");\n    i0.ɵɵtext(62);\n    i0.ɵɵpipe(63, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"p\");\n    i0.ɵɵelementStart(65, \"strong\");\n    i0.ɵɵtext(66, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(67, \"br\");\n    i0.ɵɵtext(68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"ul\", 3);\n    i0.ɵɵtemplate(70, PhoneDetailsPageComponent_ng_container_0_li_70_Template, 2, 2, \"li\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PhoneDetailsPageComponent_ng_container_0_Template_button_click_71_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.back();\n    });\n    i0.ɵɵtext(72, \" \\u041D\\u0430\\u0437\\u0430\\u0434 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PhoneDetailsPageComponent_ng_container_0_Template_button_click_73_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.addToCart(ctx_r8.phone);\n    });\n    i0.ɵɵtext(74, \" \\u041A\\u0443\\u043F\\u0438\\u0442\\u0438 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.phone.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.phone.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.additionalFeatures, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(16, 14, ctx_r0.phone.android), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(22, 16, ctx_r0.phone.battery), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(28, 18, ctx_r0.phone.camera), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(34, 20, ctx_r0.phone.connectivity), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.description, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(45, 22, ctx_r0.phone.display), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(51, 24, ctx_r0.phone.hardware), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(57, 26, ctx_r0.phone.sizeAndWeight), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(63, 28, ctx_r0.phone.storage), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.price, \" \\u20B4 \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.phone.images);\n  }\n}\n\nfunction PhoneDetailsPageComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let PhoneDetailsPageComponent = /*#__PURE__*/(() => {\n  class PhoneDetailsPageComponent {\n    constructor(activatedRoute, cartService, location) {\n      this.activatedRoute = activatedRoute;\n      this.cartService = cartService;\n      this.location = location;\n      this.phones = [];\n    }\n\n    ngOnInit() {\n      this.activatedRoute.params.pipe(map(params => params['phoneId']), switchMap(phoneId => this.cartService.getById(phoneId))).subscribe(details => {\n        this.phone = details;\n        this.cartService.getAll().subscribe(phones => {\n          this.phones = phones;\n          this.priceFromPhones = phones.find(item => item.id === this.phone.id);\n          this.phone.price = this.priceFromPhones.price;\n          console.log(this.phone.price);\n        });\n      });\n    }\n\n    getImageURL(url) {\n      return `${environment.imgURL}${url}`;\n    }\n\n    addToCart(phone) {\n      this.cartService.addToCart(phone);\n      window.alert('Ваш товар додано у корзину!');\n    }\n\n    back() {\n      this.location.back();\n    }\n\n  }\n\n  PhoneDetailsPageComponent.ɵfac = function PhoneDetailsPageComponent_Factory(t) {\n    return new (t || PhoneDetailsPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.Location));\n  };\n\n  PhoneDetailsPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PhoneDetailsPageComponent,\n    selectors: [[\"app-phone-details-page\"]],\n    decls: 3,\n    vars: 1,\n    consts: [[\"else\", \"\", \"class\", \"phone-details-page\", 4, \"ngIf\"], [\"loader\", \"\"], [\"else\", \"\", 1, \"phone-details-page\"], [1, \"phone-details-page_ul\"], [\"class\", \"phone-details-page_li\", 4, \"ngFor\", \"ngForOf\"], [1, \"phone-details-page__button\", \"card-button\", \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"phone-details-page_li\"], [3, \"src\", \"alt\"]],\n    template: function PhoneDetailsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PhoneDetailsPageComponent_ng_container_0_Template, 75, 30, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, PhoneDetailsPageComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.phone);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    pipes: [i3.JsonPipe],\n    styles: [\"[_nghost-%COMP%]{display:block}.phone-details-page_ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-left:70px}.phone-details-page_li[_ngcontent-%COMP%]{list-style:none;grid-gap:10px;gap:10px}\"]\n  });\n  return PhoneDetailsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}