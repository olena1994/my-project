{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport { map, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/cart.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction PhoneDetailsPageComponent_ng_container_0_li_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const image_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.getImageURL(image_r4), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.phone.name);\n  }\n}\n\nfunction PhoneDetailsPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0, 2);\n    i0.ɵɵelementStart(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵelementStart(6, \"strong\");\n    i0.ɵɵtext(7, \"Additional features:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵelementStart(11, \"strong\");\n    i0.ɵɵtext(12, \"Android:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵelementStart(17, \"strong\");\n    i0.ɵɵtext(18, \"Battery:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵelementStart(23, \"strong\");\n    i0.ɵɵtext(24, \"Camera:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"br\");\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\");\n    i0.ɵɵelementStart(29, \"strong\");\n    i0.ɵɵtext(30, \"Connectivity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"br\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\");\n    i0.ɵɵelementStart(35, \"strong\");\n    i0.ɵɵtext(36, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"br\");\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\");\n    i0.ɵɵelementStart(40, \"strong\");\n    i0.ɵɵtext(41, \"Display:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵtext(43);\n    i0.ɵɵpipe(44, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"p\");\n    i0.ɵɵelementStart(46, \"strong\");\n    i0.ɵɵtext(47, \"Hardware:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(48, \"br\");\n    i0.ɵɵtext(49);\n    i0.ɵɵpipe(50, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"p\");\n    i0.ɵɵelementStart(52, \"strong\");\n    i0.ɵɵtext(53, \"SizeAndWeight:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(54, \"br\");\n    i0.ɵɵtext(55);\n    i0.ɵɵpipe(56, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"p\");\n    i0.ɵɵelementStart(58, \"strong\");\n    i0.ɵɵtext(59, \"Storage:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(60, \"br\");\n    i0.ɵɵtext(61);\n    i0.ɵɵpipe(62, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"p\");\n    i0.ɵɵelementStart(64, \"strong\");\n    i0.ɵɵtext(65, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(66, \"br\");\n    i0.ɵɵtext(67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"ul\", 3);\n    i0.ɵɵtemplate(69, PhoneDetailsPageComponent_ng_container_0_li_69_Template, 2, 2, \"li\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PhoneDetailsPageComponent_ng_container_0_Template_button_click_70_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.back();\n    });\n    i0.ɵɵtext(71, \" \\u041D\\u0430\\u0437\\u0430\\u0434 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PhoneDetailsPageComponent_ng_container_0_Template_button_click_72_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.addToCart(ctx_r7.phone);\n    });\n    i0.ɵɵtext(73, \" \\u041A\\u0443\\u043F\\u0438\\u0442\\u0438 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.phone.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.phone.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.additionalFeatures, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 14, ctx_r0.phone.android), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 16, ctx_r0.phone.battery), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 18, ctx_r0.phone.camera), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(33, 20, ctx_r0.phone.connectivity), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.description, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(44, 22, ctx_r0.phone.display), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(50, 24, ctx_r0.phone.hardware), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(56, 26, ctx_r0.phone.sizeAndWeight), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(62, 28, ctx_r0.phone.storage), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.phone.price, \" \\u20B4 \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.phone.images);\n  }\n}\n\nfunction PhoneDetailsPageComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let PhoneDetailsPageComponent = /*#__PURE__*/(() => {\n  class PhoneDetailsPageComponent {\n    constructor(activatedRoute, cartService, location, cd) {\n      this.activatedRoute = activatedRoute;\n      this.cartService = cartService;\n      this.location = location;\n      this.cd = cd;\n      this.phones = [];\n    }\n\n    ngOnInit() {\n      this.activatedRoute.params.pipe(map(params => params['phoneId']), switchMap(phoneId => this.cartService.getById(phoneId))).subscribe(details => {\n        this.phone = details;\n        this.cartService.getAll().subscribe(phones => {\n          this.phones = phones;\n          this.priceFromPhones = phones.find(item => item.id === this.phone.id);\n          this.phone.price = this.priceFromPhones.price;\n        });\n        this.cd.markForCheck();\n      });\n    }\n\n    getImageURL(url) {\n      return `${environment.imgURL}${url}`;\n    }\n\n    addToCart(phone) {\n      this.cartService.addToCart(phone);\n      window.alert('Ваш товар додано у корзину!');\n    }\n\n    back() {\n      this.location.back();\n    }\n\n  }\n\n  PhoneDetailsPageComponent.ɵfac = function PhoneDetailsPageComponent_Factory(t) {\n    return new (t || PhoneDetailsPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  PhoneDetailsPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PhoneDetailsPageComponent,\n    selectors: [[\"app-phone-details-page\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"phone-details-page\", 4, \"ngIf\", \"ngIfElse\"], [\"loader\", \"\"], [1, \"phone-details-page\"], [1, \"phone-details-page_ul\"], [\"class\", \"phone-details-page_li\", 4, \"ngFor\", \"ngForOf\"], [1, \"phone-details-page__button\", \"card-button\", \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"phone-details-page_li\"], [3, \"src\", \"alt\"]],\n    template: function PhoneDetailsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PhoneDetailsPageComponent_ng_container_0_Template, 74, 30, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, PhoneDetailsPageComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n\n        i0.ɵɵproperty(\"ngIf\", ctx.phone)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    pipes: [i3.JsonPipe],\n    styles: [\"[_nghost-%COMP%]{display:block}.phone-details-page_ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-left:70px}.phone-details-page_li[_ngcontent-%COMP%]{list-style:none;grid-gap:10px;gap:10px}\"],\n    changeDetection: 0\n  });\n  return PhoneDetailsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}